#!/bin/bash

########################################################################################################################
# Bash settings ########################################################################################################
########################################################################################################################
# abort on nonzero exitstatus
set -o errexit
# abort on unbound variable
set -o nounset
# don't hide errors within pipes
set -o pipefail
# enable expansion of variables
# set -o xtrace # Uncomment this line for debugging purposes

########################################################################################################################
# Locations ############################################################################################################
########################################################################################################################
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
ROOT_DIR="$(  dirname "$(  dirname "${SCRIPT_DIR}" )" )"

########################################################################################################################
# Build ################################################################################################################
########################################################################################################################
TAG="0.1.0"
IMAGE_NAME=text_generator
CONTEXT="${ROOT_DIR}"
DOCKERFILE_LOCATION="${ROOT_DIR}"/docker/Dockerfile

# Building image
docker build  -f "${DOCKERFILE_LOCATION}" \
              --rm \
              -t "${IMAGE_NAME}":${TAG} \
              "${CONTEXT}"
